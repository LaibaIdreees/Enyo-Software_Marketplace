<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Enyo - Register</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================

  ======================================================== -->
</head>
<style>
  @import url('https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i&subset=greek-ext');
  
  
  .text-center{
    color:#fff;	
    text-transform:uppercase;
      font-size: 23px;
      margin: -50px 0 80px 0;
      display: block;
      text-align: center;
  }
  .box{
    position:absolute;
    left:50%;
    top:80%;
    transform: translate(-50%,-50%);
      background-color: rgba(0, 0, 0, 0.89);
    border-radius:3px;
    padding:0px 100px;
  }
  .input-container{
    position:relative;
    margin-bottom:25px;
  }
  .input-container label{
    position:absolute;
    top:0px;
    left:0px;
    font-size:16px;
    color:#fff;	
    transition: all 0.5s ease-in-out;
  }
  .input-container input{ 
    border:0;
    border-bottom:1px solid #555;  
    background:transparent;
    width:100%;
    padding:8px 0 5px 0;
    font-size:16px;
    color:#fff;
  }
  .input-container input:focus{ 
   border:none;	
   outline:none;
   border-bottom:1px solid #e74c3c;	
  }
  .btn{
    color:#fff;
    background-color:#cc1616;
    outline: none;
      border: 0;
      color: #fff;
    padding:10px 20px;
    text-transform:uppercase;
    margin-top:50px;
    border-radius:2px;
    cursor:pointer;
    position:relative;
  }
  /*.btn:after{
    content:"";
    position:absolute;
    background:rgba(0,0,0,0.50);
    top:0;
    right:0;
    width:100%;
    height:100%;
  }*/
  .input-container input:focus ~ label,
  .input-container input:valid ~ label{
    top:-12px;
    font-size:12px;
    
  }
  #map { 
            height: 300px;    
            width: 600px;            
          } 
		  
input[type=radio] {
    width: 15px;
    height: 15px;

}	
  </style>
<body style="background-color: #282424;" >

  <!-- ======= Top Bar ======= -->
  <section id="topbar" class="d-flex align-items-center">
    <div class="container d-flex justify-content-center justify-content-md-between">
      <div class="contact-info d-flex align-items-center">
        <i class="bi bi-envelope-fill"></i><a href="mailto:contact@example.com">Enyo@gmail.com</a>
      </div>
      <div class="social-links d-none d-md-block">
        <a href="login.html">Log in <i ></i></a>
        <a href="register.html" >Register<i ></i></a>
      </div>
    </div>
  </section>

  <!-- ======= Header ======= -->
  <header id="header" class="d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">

      <h1 class="logo"><a href="index.html">Enyo</a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto active" href="index.html">Home</a></li>
      
          <li class="dropdown"><a href="#"><span>Software</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="#">Entertaintment</a></li>
              <li><a href="#">Games</a></li>
              <li><a href="#">Drop Down 3</a></li>
              <li><a href="#">Drop Down 4</a></li>
            </ul>
          </li>
		      <li><a class="nav-link scrollto" href="index.html#about">About</a></li>
          <li><a class="nav-link scrollto" href="index.html#services">Services</a></li>
          <li><a class="nav-link scrollto" href="index.html#team">Team</a></li>
          <li><a class="nav-link scrollto" href="index.html#contact">Contact</a></li>
		  
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->
  

    <!-- ======= login ======= --> 
  <section>
  
 <div class="box">
	<form >
    <span class="text-center">Register</span>
		
		<div class="input-container">
		<input type="text" id="name" name="name"  required=""/>
		<label>Name</label>		
	</div>
	<div class="input-container">
		<input id="email" name="email" type="text" required=""/>
		<label>Email</label>		
	</div>
	<div class="input-container">		
		<input id="password" name="password" type="password" required=""/>
		<label>Password</label>
	</div>
 
  <div class="card-body">
				<input type="hidden" id="lattitude" />
                <input type="hidden" id="longitude" />
                <div class="input-container">	
                  <label>Select your Location on Map:</label> <br>	
                  <input id="pac-input" name="pac-input" type="text" required=""/>
                  
                </div>
<label style="color:red;font-size:12px; display: none;" id="pacinputwarning">This is a Required Field.</label>		  
		<div class="row">
		 <div id="map" style="margin-bottom: 10px"></div>
		 
		</div>
		<div class="row">		  
				<input type="hidden" id="lattitude" />
                <input type="hidden" id="longitude" />
		</div>
				<br/>
				</div>	

<br>
<label style= "color:#fff">Please select whether your a developer or buyer:</label> <br><br>
<div class="question-answer">
  <div>
    <input type="radio" value="Developer" id="radio_1" name="usertype"/>
    <label style= "color:#fff" for="radio_1" class="radio" value="Developer"><span>Developer</span></label>
  </div><br>
  <div>
    <input  type="radio" value="Buyer" id="radio_2" name="usertype"/>
    <label  style= "color:#fff" for="radio_2" class="radio" value="Buyer"><span>Buyer</span></label>
  </div>
		<button onclick="validateForm()" type="button" class="btn">submit</button>
    <br><br><br>
    <center>
    <label style= "color:#fff" >Already Registered? <a style= "color:red" href="login.html">Sign in </a> </label></center>
    <br><br>
</form>	
</div>
  </section>
  <br>
   <!-- ======= Footer ======= -->
   <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
  <footer id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-4 col-md-6">
            <div class="footer-info">
              <h3>Enyo</h3>
         
                <strong>Email:</strong> enyo@gmail.com<br>
              </p>
              <div class="social-links mt-3">
                <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
                <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
                <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
                <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
                <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
              </div>
            </div>
          </div>

          <div class="col-lg-2 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">About us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Services</a></li>
            </ul>
          </div>

       

          <div class="col-lg-4 col-md-6 footer-newsletter">
            <h4>Our Newsletter</h4>
            <form action="" method="post">
              <input type="email" name="email"><input type="submit" value="Subscribe">
            </form>

          </div>

        </div>
      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Enyo</span></strong>. All Rights Reserved
      </div>
      <div class="credits">
        Designed by <a href="https://bootstrapmade.com/">f200281 f200326</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
  <div id="preloader"></div>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

  <script>	


function validateForm(){  
  // Get the form inputs
  var nameInput = document.getElementById("name");
  var emailInput = document.getElementById("email");
  var passwordInput = document.getElementById("password");
  var usertypeInputs = document.getElementsByName("usertype");

  // Validate the name input
  if (nameInput.value == "") {
    alert("Please enter your name.");
    return false;
  }

  // Validate the email input
  if (emailInput.value == "") {
    alert("Please enter your email.");
    return false;
  } else if (!/\S+@\S+\.\S+/.test(emailInput.value)) {
    alert("Please enter a valid email address.");
    return false;
  }

  // Validate the password input
  if (passwordInput.value == "") {
    alert("Please enter a password.");
    return false;
  }

  // Validate the usertype input
  var usertypeSelected = false;
  for (var i = 0; i < usertypeInputs.length; i++) {
    if (usertypeInputs[i].checked) {
      usertypeSelected = true;
      break;
    }
  }
  if (!usertypeSelected) {
    alert("Please select whether you're a developer or buyer.");
    return false;
  }

 insert();
}



var map;

function initAutocomplete() {                            

		var map = new google.maps.Map(document.getElementById('map'), {
			center : {
				lat : 30.3753,
				lng : 69.3451
			},
			zoom : 5
		});
	
	
		 var options = {
		  componentRestrictions: {country: "pk"}
		 };		
		
		var input = (document.getElementById('pac-input'));
		var autocomplete = new google.maps.places.Autocomplete(input, options);

		autocomplete.bindTo('bounds', map);

		var infowindow = new google.maps.InfoWindow();
		
		var marker = new google.maps.Marker({
			draggable:true,
			map : map
			
		});
			

		autocomplete.addListener('place_changed', function() {

			var place = autocomplete.getPlace();
			var lattitude = place.geometry.location.lat();
			var longitude = place.geometry.location.lng();
			
google.maps.event.addListener(marker, 'dragend', function (event) {
    document.getElementById("lattitude").value = this.getPosition().lat();
    document.getElementById("longitude").value = this.getPosition().lng();
	
	//Marker Location Changed
	
	document.getElementById("lattitude").value = this.getPosition().lat();
	
	
	document.getElementById("longitude").value = this.getPosition().lng();
	
	
});				

			//alert(lattitude + ' ' + longitude);
			document.getElementById("lattitude").value = lattitude;
			document.getElementById("longitude").value = longitude;
			
			
			//Selected Place Changed
			
			//alert("Hello");

			infowindow.close();
			marker.setVisible(false);
			var place = autocomplete.getPlace();
			if (!place.geometry) {
				window.alert("Autocomplete's returned place contains no geometry");
				return;
			}

			// If the place has a geometry, then present it on a map.
			if (place.geometry.viewport) {
				map.fitBounds(place.geometry.viewport);
			} else {
				map.setCenter(place.geometry.location);
				map.setZoom(17);
				// Why 17? Because it looks good.
			}

			marker.setPosition(place.geometry.location);
			marker.setVisible(true);

			var address = '';
			if (place.address_components) {
				address = [(place.address_components[0] && place.address_components[0].short_name || ''), (place.address_components[1] && place.address_components[1].short_name || ''), (place.address_components[2] && place.address_components[2].short_name || '')].join(' ');
			}

			infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);
			infowindow.open(map, marker);



			// iterate through address_component array



		});
		

          
}
  
  


  function insert()
  {
      
      var name = document.getElementById("name").value;
      var password = document.getElementById("password").value;
      
      var email = document.getElementById("email").value;
      var longitude = document.getElementById("longitude").value;
      var lattitude = document.getElementById("lattitude").value;
      var usertype = document.querySelector('input[name="usertype"]:checked').value;
      alert(lattitude);
      var data = { name : name, password : password, email : email,longitude:longitude,lattitude:lattitude,  usertype:usertype};
     

      let post = JSON.stringify(data);
      $.ajax({
          url: 'http://localhost:4000/insert',
      headers: {
          'Content-Type':'application/json'
      },			
          type: 'POST',
          contentType: 'application/json',
          data: post,
          success: function(){
      
          alert("User registered: Please check your mail for aunthentication code");
          authetification();
          },
          error: function(){
              alert("errors");
          }
      });
    
  }
  function authetification(){
    var email = document.getElementById("email").value;
    window.location.href = "authentication.html?email=" + email;
   
  }
      </script>


</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB9irjntPHdEJf024h7H_XKpS11OeW1Nh8&libraries=places&callback=initAutocomplete"
async defer></script>



	
    
        </body>
</html>